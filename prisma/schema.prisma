generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
  moduleFormat  = "cjs"
}

datasource db {
  provider = "postgresql"
}

model User {
  userId          Int       @id @default(autoincrement())
  email           String    @unique
  password        String
  createdAt       DateTime  @default(now()) @map("created_at")

  learned         Learned[]
}

model Group {
  id              Int       @id @default(autoincrement())
  homophones      Boolean
  additionalToId  Int       @map("additional_to_id")
  createdAt       DateTime  @default(now()) @map("created_at")

  words           Word[]
  learned         Learned[]

  @@map("groups")
}

model Word {
  id              Int       @id @default(autoincrement())
  word            String
  groupId         Int       @map("group_id")
  createdAt       DateTime  @default(now()) @map("created_at")

  group           Group     @relation(fields: [groupId], references: [id])

  @@map("words")
}

model Learned {
  id              Int       @id @default(autoincrement())
  userId          Int       @map("user_id")
  groupId         Int       @map("group_id")
  createdAt       DateTime  @default(now()) @map("created_at")

  user            User      @relation(fields: [userId], references: [userId])
  group           Group     @relation(fields: [groupId], references: [id])

  @@unique([userId, groupId])
  @@map("learned")
}